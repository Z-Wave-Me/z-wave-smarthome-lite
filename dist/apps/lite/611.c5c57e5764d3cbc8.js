"use strict";(self.webpackChunklite=self.webpackChunklite||[]).push([[611],{7412:(q,M,n)=>{n.r(M),n.d(M,{PersonalSettingsModule:()=>it});var p=n(6895),e=n(1644),u=n(4006),x=n(9606),y=n(2178),P=n(7776),C=n(4004),Y=n(9300),O=n(2722),h=n(7009),F=n(8976),$=n(801),t=n(4650),_=n(430),H=n(9837),U=n(4785),w=n(311),L=n(6679),Z=n(2048),J=n(8917),b=n(5601),I=n(9397),N=n(1813),T=n(5120),S=n(8276),Q=n(1195),j=n(117),G=n(3861),R=n(4601),E=n(6266),A=n(3868);function tt(s,d){if(1&s&&t._UZ(0,"tui-data-list-wrapper",25),2&s){const a=t.oxw(2),c=t.MAs(2);t.Q6J("items",a.languages)("itemContent",c)}}function V(s,d){if(1&s){const a=t.EpF();t.TgZ(0,"tui-tag",30),t.NdJ("edited",function(){const f=t.CHM(a).$implicit,g=t.oxw(4);return t.KtG(g.excludeFromHidden(f.id))}),t.qZA()}if(2&s){const a=d.$implicit;t.Q6J("hoverable",!0)("value",a.title||"")("removable",!0)}}function W(s,d){if(1&s&&(t.TgZ(0,"tui-island",18)(1,"div",27),t._uU(2),t.qZA(),t.TgZ(3,"div",28),t.YNc(4,V,1,3,"tui-tag",29),t.qZA()()),2&s){const a=t.oxw().ngIf,c=t.oxw().$implicit;t.xp6(2),t.hij(" ",c("lb_hidden_events_device")," "),t.xp6(2),t.Q6J("ngForOf",a)}}function X(s,d){if(1&s&&(t.ynx(0),t.YNc(1,W,5,2,"tui-island",26),t.BQk()),2&s){const a=d.ngIf;t.xp6(1),t.Q6J("ngIf",a.length)}}const i=function(){return[]};function r(s,d){if(1&s&&(t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"div",4),t._UZ(4,"tui-line-clamp",5),t.qZA(),t.TgZ(5,"tui-badge",6),t._UZ(6,"tui-svg",7),t.qZA()(),t.TgZ(7,"tui-scrollbar",8)(8,"form",9)(9,"tui-input",10),t._uU(10),t._UZ(11,"span",11)(12,"input",12),t.qZA(),t._UZ(13,"tui-error",13),t.ALo(14,"async"),t.ALo(15,"tuiFieldError"),t.TgZ(16,"tui-input",14),t._uU(17),t._UZ(18,"span",11)(19,"input",12),t.qZA(),t._UZ(20,"tui-error",15),t.ALo(21,"async"),t.ALo(22,"tuiFieldError"),t.TgZ(23,"tui-select",16),t._uU(24),t.YNc(25,tt,1,2,"tui-data-list-wrapper",17),t.qZA(),t.TgZ(26,"tui-island",18)(27,"div",19)(28,"div",20),t._UZ(29,"tui-toggle",21),t.qZA(),t._uU(30),t.qZA()(),t.TgZ(31,"tui-island",18)(32,"div",19)(33,"div",20),t._UZ(34,"tui-toggle",22),t.qZA(),t._uU(35),t.qZA()(),t.YNc(36,X,2,1,"ng-container",23),t.ALo(37,"async"),t.TgZ(38,"tui-island",18)(39,"div",19)(40,"span"),t._UZ(41,"fa-icon",24),t._uU(42),t.qZA()()()()()(),t.BQk()),2&s){const a=d.$implicit,c=t.oxw(),m=t.MAs(2);let f,g;t.xp6(4),t.Q6J("content",a("settings"))("lineHeight",26)("linesLimit",1),t.xp6(3),t.Q6J("hidden",!0),t.xp6(1),t.Q6J("formGroup",c.settings),t.xp6(2),t.hij(" ",a("lb_login")," "),t.xp6(2),t.uIk("placeholder",null!==(f=c.profile.name)&&void 0!==f?f:""),t.xp6(1),t.Q6J("error",t.lcZ(14,19,t.lcZ(15,21,t.DdM(29,i)))),t.xp6(4),t.hij(" ",a("lb_email")," "),t.xp6(2),t.uIk("placeholder",null!==(g=c.profile.email)&&void 0!==g?g:""),t.xp6(1),t.Q6J("error",t.lcZ(21,23,t.lcZ(22,25,t.DdM(30,i)))),t.xp6(3),t.Q6J("valueContent",m),t.xp6(1),t.hij(" ",a("lb_language")," "),t.xp6(6),t.hij(" ",a("lb_hide_device_events")," "),t.xp6(5),t.hij(" ",a("lb_hide_system_events")," "),t.xp6(1),t.Q6J("ngIf",t.lcZ(37,27,c.hiddenDevices$)),t.xp6(5),t.Q6J("icon",c.faMobileAlt),t.xp6(1),t.AsE(" ",a("version"),": ",c.version," ")}}function o(s,d){if(1&s&&(t.TgZ(0,"div",31)(1,"span",32),t._uU(2),t.qZA(),t._UZ(3,"img",33),t.qZA()),2&s){const a=d.$implicit;t.xp6(2),t.Oqu(a.title),t.xp6(1),t.Q6J("src",a.img,t.LSH)("alt",a.name)}}let l=(()=>{class s{constructor(a){this.id=a,this.img=s.apiUrl+this.id+".png",this.title=s.lang?.[a]??a}}return s.apiUrl="assets/img/flags/",s.lang={en:"English",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},s})();const B=[{path:"",component:(()=>{class s{constructor(a,c,m,f){this.formBuilder=a,this.store=c,this.translocoService=m,this.destroy$=f,this.version=F.N.version,this.faMobileAlt=$.bJI,this.languages=this.translocoService.getAvailableLangs().map(g=>new l(g.toString())),this.profile=this.store.selectSnapshot(y.k.profile),this.settings=this.formBuilder.group({name:[this.profile.name,[u.kI.required]],email:[this.profile.email,[u.kI.email]],lang:[this.languages.find(g=>g.id===this.translocoService.getActiveLang())],hideSystemEvents:[this.profile.hideSystemEvents],hideAllDeviceEvents:[this.profile.hideAllDeviceEvents]}),this.hiddenDevices$=this.store.select(y.k.profile).pipe(function z(...s){const d=s.length;if(0===d)throw new Error("list of properties cannot be empty.");return(0,C.U)(a=>{let c=a;for(let m=0;m<d;m++){const f=c?.[s[m]];if(!(typeof f<"u"))return;c=f}return c})}("hideSingleDeviceEvents"),(0,Y.h)(g=>Array.isArray(g)),(0,C.U)(g=>g.map(et=>({id:et,title:this.store.selectSnapshot(({devices:ot})=>ot.entities[et]?.title)}))))}ngAfterViewInit(){this.settings.valueChanges.pipe((0,O.R)(this.destroy$),(0,C.U)(a=>{if(this.settings.valid){const{lang:c,...m}=a;return m.lang=c.id,m.synchronized=!1,this.store.dispatch(new h.Bc(m)),"success"}return"error"})).subscribe()}excludeFromHidden(a){this.store.dispatch(new h.Bc({hideSingleDeviceEvents:this.store.selectSnapshot(y.k.profile).hideSingleDeviceEvents.filter(c=>c!==a),synchronized:!1}))}}return s.\u0275fac=function(a){return new(a||s)(t.Y36(u.QS),t.Y36(x.yh),t.Y36(_.Vn),t.Y36(P.a3))},s.\u0275cmp=t.Xpm({type:s,selectors:[["z-wave-personal-settings"]],features:[t._Bn([P.a3])],decls:3,vars:0,consts:[[4,"transloco"],["langContent",""],[1,"room-config","tui-container_adaptive"],[1,"back-wrapper","shadow"],[1,"title","tui-text_body-xl"],[3,"content","lineHeight","linesLimit"],["status","custom","zWaveBackButton","",1,"tui-space_right-3","back-button"],["src","tuiIconRemoveLarge"],["tuiOverscroll","scroll",1,"content",3,"hidden"],[1,"personal-settings",3,"formGroup"],["formControlName","name",1,"personal-settings-item"],[1,"tui-required"],["tuiTextfield",""],["formControlName","name",3,"error"],["formControlName","email",1,"personal-settings-item"],["formControlName","email",3,"error"],["formControlName","lang",1,"personal-settings-item",3,"valueContent"],[3,"items","itemContent",4,"tuiDataList"],["size","m",1,"personal-settings-item"],[1,"tui-island__content"],[1,"tui-island__figure"],["formControlName","hideAllDeviceEvents","size","m",2,"align-self","center"],["formControlName","hideSystemEvents","size","m",2,"align-self","center"],[4,"ngIf"],[1,"tui-space_right-2",3,"icon"],[3,"items","itemContent"],["size","m","class","personal-settings-item",4,"ngIf"],[1,"tui-island__header"],[1,"tui-island__content","tag-block"],["size","l","status","custom","class","tag hidden-device",3,"hoverable","value","removable","edited",4,"ngFor","ngForOf"],["size","l","status","custom",1,"tag","hidden-device",3,"hoverable","value","removable","edited"],[1,"lang-item"],[1,"lang-name"],[3,"src","alt"]],template:function(a,c){1&a&&(t.YNc(0,r,43,31,"ng-container",0),t.YNc(1,o,4,3,"ng-template",null,1,t.W1O))},dependencies:[p.sg,p.O5,_.KI,U.by,w.g,S.P,E.z,Q.IB,H.W,u._Y,u.JJ,u.JL,u.sg,u.u,L.K3,L.wU,j.MB,Z.uJ,Z.OI,J.eC,G.gX,b.h,I.ph,A.BN,N.Gi,R.v,p.Ov,T.Ag],styles:["[_nghost-%COMP%]   .space[_ngcontent-%COMP%]{padding:0 .5rem}[_nghost-%COMP%]   .room-config[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .room-config[_ngcontent-%COMP%]   .back-wrapper[_ngcontent-%COMP%]{display:flex;padding:1rem 0;align-items:center;border-radius:var(--tui-radius-l) var(--tui-radius-l) 0 0}[_nghost-%COMP%]   .room-config[_ngcontent-%COMP%]   .back-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;flex:1 1 auto}[_nghost-%COMP%]   .room-config[_ngcontent-%COMP%]   .back-wrapper[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{background-color:var(--tui-base-05)}[_nghost-%COMP%]   .room-config[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{box-shadow:0 .125rem 1rem #00000014}[_nghost-%COMP%]   .content[_ngcontent-%COMP%]{overflow:auto;height:calc(100% - var(--header-heigth));padding:0 .5em}[_nghost-%COMP%]   .personal-settings[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .personal-settings[_ngcontent-%COMP%]   .personal-settings-item[_ngcontent-%COMP%]{margin-bottom:1rem}[_nghost-%COMP%]   .hidden-device[_ngcontent-%COMP%]{margin:.25rem;background-color:var(--tui-support-15)}[_nghost-%COMP%]   .tag-block[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:left}.lang-item[_ngcontent-%COMP%]{display:grid;width:100%;align-items:center;grid-template-columns:repeat(3,1fr)}"],changeDetection:0}),s})()}];let k=(()=>{class s{}return s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[e.Bz.forChild(B),e.Bz]}),s})();var K=n(9886),D=n(4886),nt=n(6598);let it=(()=>{class s{}return s.\u0275fac=function(a){return new(a||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[p.ez,k,_.y4,U.sp,w.f,S.E,nt.n,Q.Jy,H.e,u.UX,L.Qf,K.cn,D.go,T.Yu,Z.Jy,J.zX,b.y,I.YM,A.uH,N.d3,R.S]}),s})()},4785:(q,M,n)=>{n.d(M,{by:()=>W,sp:()=>X});var p=n(655),e=n(4650),u=n(4227),x=n(7776);let y=(()=>{class i{constructor(o){this.tuiResize=o}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(x.tl))},i.\u0275dir=e.lG2({type:i,selectors:[["","tuiResize",""]],outputs:{tuiResize:"tuiResize"},features:[e._Bn([x.a3,x.tl])]}),i})(),P=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({}),i})();var C=n(710),z=n(3679),Y=n(3054),O=n(8923),h=n(4886),F=n(8790),$=n(3281),t=n(6966),_=n(1135),H=n(7579),U=n(9646),w=n(5963),L=n(1884),Z=n(8675),J=n(1520),b=n(3900),I=n(9300),N=n(9718),T=n(9740),S=n(6895);function Q(i,r){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const o=r.polymorpheusOutlet;e.xp6(1),e.Oqu(o)}}function j(i,r){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const o=r.polymorpheusOutlet;e.xp6(1),e.hij(" ",o," ")}}function G(i,r){if(1&i){const o=e.EpF();e.TgZ(0,"div",1),e.NdJ("tuiResize",function(){e.CHM(o);const v=e.oxw();return e.KtG(v.updateView())}),e.YNc(1,j,2,1,"ng-container",2),e.qZA()}if(2&i){const o=r.tuiLet,l=e.oxw();e.Udp("-webkit-line-clamp",o)("word-break",(o||0)>1?"break-word":"break-all"),e.Q6J("tuiHint",l.computedContent),e.xp6(1),e.Q6J("polymorpheusOutlet",l.content)}}let R=(()=>{class i extends h.jv{get width(){return this.accessor.getClientRect().width}}return i.\u0275fac=function(){let r;return function(l){return(r||(r=e.n5z(i)))(l||i)}}(),i.\u0275cmp=e.Xpm({type:i,selectors:[["tui-line-clamp-box"]],hostVars:2,hostBindings:function(o,l){2&o&&e.Udp("min-width",l.width,"px")},features:[e._Bn([x.a3,F.KG,C.gs]),e.qOj],decls:1,vars:1,consts:[[4,"polymorpheusOutlet"]],template:function(o,l){1&o&&e.YNc(0,Q,2,1,"ng-container",0),2&o&&e.Q6J("polymorpheusOutlet",l.content)},dependencies:[T.Li],styles:["[_nghost-%COMP%]{box-shadow:0 1.5rem 1rem rgba(0,0,0,.03),0 .75rem .75rem rgba(0,0,0,.04),0 .25rem .375rem rgba(0,0,0,.05);position:absolute;width:-webkit-min-content;width:-moz-min-content;width:min-content;padding:.75rem 1rem;margin-left:calc(-1px - 1rem);margin-top:calc(-1px - .75rem);border-radius:var(--tui-radius-l);box-sizing:content-box;border:1px solid var(--tui-base-03);background:var(--tui-base-01);color:var(--tui-text-01);word-wrap:break-word}"],data:{animation:[$.QF]},changeDetection:0}),i})();const E={showHint:!0},A=new e.OlP("[TUI_LINE_CLAMP_OPTIONS]: Default parameters for line-clamp component",{factory:()=>E});let V=(()=>{class i{constructor(o){this.accessor=o}getPosition(){const{top:o,left:l}=this.accessor.getClientRect();return[o,l]}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(t.O4))},i.\u0275dir=e.lG2({type:i,selectors:[["","tuiHintCustomPosition",""]],features:[e._Bn([(0,t.P7)(i)])]}),i})(),W=(()=>{class i{constructor(o,l,v,B,k){this.elementRef=o,this.renderer=l,this.cd=v,this.ngZone=B,this.options=k,this.linesLimit$=new _.X(1),this.isOverflown$=new H.x,this.initialized=!1,this.lineHeight=24,this.content="",this.overflownChange=this.isOverflown$.pipe((0,L.x)()),this.lineClamp$=this.linesLimit$.pipe((0,Z.O)(1),(0,J.G)(),(0,b.w)(([K,D])=>D>=K?(0,U.of)(D):(0,z.mL)(this.elementRef.nativeElement,"transitionend").pipe((0,I.h)(Y.Mq),(0,N.h)(D)))),this.skipInitialTransition()}set linesLimit(o){this.linesLimit$.next(o)}get overflown(){if(!this.outlet)return!1;const{scrollHeight:o,scrollWidth:l}=this.outlet.nativeElement,{clientHeight:v,clientWidth:B}=this.elementRef.nativeElement;return o-v>4||l-B>0}get computedContent(){return this.options.showHint&&this.overflown?this.content:""}get maxHeight(){return this.initialized?this.lineHeight*this.linesLimit$.value:null}get height(){return this.outlet?this.outlet.nativeElement.scrollHeight+4||null:0}updateView(){this.cd.detectChanges()}ngAfterViewInit(){this.initialized=!0}ngDoCheck(){this.isOverflown$.next(this.overflown)}skipInitialTransition(){(0,w.H)(0).pipe((0,z.fL)(this.ngZone)).subscribe(()=>{this.renderer.addClass(this.elementRef.nativeElement,"_initialized"),this.cd.detectChanges()})}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(A))},i.\u0275cmp=e.Xpm({type:i,selectors:[["tui-line-clamp"]],viewQuery:function(o,l){if(1&o&&e.Gf(h.D,5,e.SBq),2&o){let v;e.iGM(v=e.CRH())&&(l.outlet=v.first)}},hostVars:4,hostBindings:function(o,l){1&o&&e.NdJ("transitionend",function(){return l.updateView()}),2&o&&e.Udp("max-height",l.maxHeight,"px")("height",l.height,"px")},inputs:{linesLimit:"linesLimit",lineHeight:"lineHeight",content:"content"},outputs:{overflownChange:"overflownChange"},features:[e._Bn([{provide:h.y7,useValue:R}])],decls:2,vars:3,consts:[["tuiHintCustomPosition","","class","t-wrapper",3,"tuiHint","-webkit-line-clamp","word-break","tuiResize",4,"tuiLet"],["tuiHintCustomPosition","",1,"t-wrapper",3,"tuiHint","tuiResize"],[4,"polymorpheusOutlet"]],template:function(o,l){1&o&&(e.YNc(0,G,2,6,"div",0),e.ALo(1,"async")),2&o&&e.Q6J("tuiLet",e.lcZ(1,1,l.lineClamp$))},dependencies:[u.Ls,V,h.D,h.xn,h.t6,y,T.Li,S.Ov],styles:["[_nghost-%COMP%]{position:relative;display:block;overflow:hidden}._initialized[_nghost-%COMP%]{transition-property:max-height;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}.t-wrapper[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden}.t-wrapper[_ngcontent-%COMP%]    >*{white-space:normal;white-space:initial}"],changeDetection:0}),(0,p.gn)([(0,O.TH)()],i.prototype,"linesLimit",null),(0,p.gn)([(0,O.TH)()],i.prototype,"lineHeight",void 0),(0,p.gn)([(0,O.TH)()],i.prototype,"content",void 0),i})(),X=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[S.ez,T.wq,h.go,P,u.WD]]}),i})()},9368:(q,M,n)=>{function p(e){if(""===e)return"";let u=0;for(let C=0;C<e.length;C++)u=e.charCodeAt(C)+((u<<5)-u),u&=u;return`hsl(${u%360},${60+u%5}%,${80+u%5}%)`}n.d(M,{s:()=>p})}}]);