<ng-container *transloco="let _t">
  <tui-island
    tuiTouchable="transform"
    tuiRipple="radial-gradient(circle, #5c0067 0%, #00d4ff 100%)"
    class="widget"
    *ngIf="{ room: (room$ | async), locations: (locations$ | async) } as data"
    [ngClass]="{ inactive: (locations$ | async) === 0 }"
  >
    <div class="tui-island__title title">
      <span
        class="tui-space_right-1"
        style="color: var(--tui-text-02)"
        *ngIf="data.locations"
        >[{{ data.locations ? data.locations.length : 0 }}]</span
      ><span class="room">{{ data.room?.title }}</span>
      <fa-icon [icon]="faSort" class="tui-space_left-5"></fa-icon>
    </div>
    <div
      class="background"
      [ngStyle]="{ 'background-image': 'url(' + data.room?.imgSrc + ')' }"
    >
      <z-wave-main-sensor-widget
        *ngFor="let id of data.room?.main_sensors; trackBy: trackIndex"
        [id]="id"
      ></z-wave-main-sensor-widget>
    </div>
  </tui-island>
</ng-container>
